---
layout: post
title: "각 폴더에 있는 파일 개수 확인하기"
tags: Linux
comments: true
---

📦_posts
 ┣ 📦2019-04-10
 ┣ 📦2019-04-11
 ┣ 📦2019-04-12
 ┣ 📦2019-04-13
 ┗ 📦2019-04-14

예를 들어 위와 같은 폴더 구조를 생성했다고 가정한다.
프로그램을 실행시킨 후 각 폴더 안에 파일들이 잘 생성됐는지 확인하고 싶다.
예시처럼 폴더가 5개밖에 안되면 수동으로 확인할 수 있지만 이게 수백개, 수천개가 되면 불가능하다.
나는 각 폴더 내 파일들이 몇개 있는지만 알면 됐으므로 아래 명령어를 사용하여 확인했다.

```
find . -type d -print0 | while read -d '' -r dir; do
    files=("$dir"/*)
    printf "%5d files in directory %s\n" "${#files[@]}" "$dir"
done
```

위 명령어를 실행하면 아래 이미지처럼 어느 폴더에 몇개의 파일이 있는지 알려줍니다.
용량과 같은 부분을 체크하지 않는 이유는 이미 저 폴더와 파일을 생성하는 프로그램이
생성 중에 문제가 생기면 오류를 발생시키기 때문에 중복해서 확인할 필요가 없기 때문입니다.

<img src="/images/check-file.png">
